(this.webpackJsonphablaba=this.webpackJsonphablaba||[]).push([[0],{73:function(e,t,n){"use strict";n.r(t);var c,r,s=n(26),a=n(6),i=n(8),o=n(43),d=n(11),u=Object(d.a)(new Set([].concat(["cat","key","comb","catch","coin","cub","cone","carrot","corn","cold","cool","cop","cake","car","kid","cave","coat","cow","cut","cart","candy","card","color","kite","racquet","breakfast","baking","chicken","donkey","soccer","sucker","vacation","biking","turkey","cooking","weekend","uncle","napkin","bacon","checkers","jacket","pocket","pumpkin","raincoat","taco","looking","helicopter","apricot","vacuum","bike","lock","cheek","hawk","leak","rake","rock","shake","music","book","back","pack","cook","hike","sick","check","hook","lick","neck","snack","stick","truck","walk","pick","goose","gate","gas","gift","go","gulp","good","gone","guess","give","ghost","guitar","garbage","goodbye","goat","game","gum","girl","golf","guy","goal","gallon","gold","garage","gorilla","dragon","luggage","cougar","tiger","eagle","merry-go-round","tugboat","pigpen","again","wagon","sugar","dugout","foggy","magnet","hamburger","jogging","juggle","pigtail","magazine","yoga","seagull","alligator","August","bigger","doggy","bug","dog","leg","bag","mug","big","rag","pig","Doug","frog","fog","twig","slug","fig","dig","log","hug","rug","tag","wag","wig","egg","tug","flag","jug","teeth","tire","toast","toy","teacher","two","toad","tiger","turkey","taco","tool","tooth","toe","talk","towel","turtle","team","take","tall","taste","tub","touch","top","tongue","time","button","guitar","kitten","mittens","potato","eighteen","rotten","hotel","cotton","motel","beauty","better","city","butter","little","butterfly","tomatoe","biting","Saturday","water","bat","boat","cat","fruit","goat","hat","coat","light","nut","chocolate","eat","bite","cut","cute","feet","get","sit","right","not","late","kite","hot","hat","wet","white","dad","dark","day","dime","do","done","dust","dot","dive","dance","desk","dish","dog","doll","duck","door","dentist","doctor","dinner","down","dig","dove","dear","does","date","medicine","ladder","radio","reading","wedding","lady","spider","daddy","feeding","body","kindergarten","birthday","riding","Thursday","baby doll","calendar","Canada","idea","ready","shadow","Tuesday","louder","hidden","hiding","speeding","food","hand","mud","bed","sand","add","bad","bread","did","dad","cried","glad","grade","good","hide","kid","loud","mad","read","wood","sad","ride","red","played","side"],["licks","looks","kicks","forks","rakes","walks","packs","snacks","locks","bakes","cooks","books","looks","shakes","blinks","fox","talks","parks","rocks","kicks","fix","locks","box","makes","knocks","hooks","scoop","scare","scarf","skirt","scout","scale","skinny","scar","score","skill","skip","skull","skunk","scab","skim","school","skin","skate","ski","sky","slow","sled","slacker","slam","slab","slave","sleigh","slick","slit","slim","sliver","sludge","slug","slant","slob","sleeve","sleep","slip","slide","slap","smell","smoke","smog","smear","smooch","smudge","smug","smock","smooth","smack","smite","smoky","smother","smuggle","smart","snack","snarl","snatch","snoop","snot","sneak","snip","snag","snob","snuggle","snooze","sniffle","snoop","snout","snorkel","snicker","snitch","snowball","snort","snap","snake","sneeze","snow","snore","spoon","space","spy","spare","sponge","sparkle","spear","spend","spin","spine","spoon","space","spinach","spa","spark","speed","Spanish","speech","spice","spent","special","spider","speak","spill","spell","sports","stamp","step","stack","stand","stay","steal","steer","stitch","still","steam","stone","stop","stem","state","stick","sting","store","stage","swallow","swaddle","swam","swap","swarm","swear","swat","sway","swell","swept","swipe","switch","sword","swollen","swamp","swim","swan","swing","sweater"]))),l=function(e){for(var t,n,c=Object(d.a)(e),r=c.length;r;)n=c[t=Math.floor(Math.random()*r--)],c[t]=c[r],c[r]=n;return c},j="remaining",b="passed",g="failed",f=function(e){var t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){}},h={isRecording:!1,audioSource:"",duration:0,subject:"remaining",remaining:[],passed:[],failed:[],status:"ready"},O=function(e){return function(t){t.subject=e,t[e]=l(t[e]),t.status="ready",t.audioSource=""}},p=Object(o.b)({name:"speech",initialState:h,reducers:{start:function(e){e.isRecording=!0,e.audioSource="",e.duration=0},stop:function(e,t){var n=t.payload;e.isRecording=!1,e.duration=n},pass:function(e){e.audioSource="";var t=e[e.subject].shift();t&&e.passed.push(t)},fail:function(e){e.audioSource="";var t=e[e.subject].shift();t&&e.failed.push(t)},save:function(e,t){var n=t.payload;e.audioSource=n},doFailedList:O("failed"),doPassedList:O("passed"),doRemainingList:O("remaining"),resetLists:function(e){e.subject="remaining",e.remaining=l(u),e.passed=[],e.failed=[],e.status="ready",e.audioSource=""},changeStatus:function(e,t){var n=t.payload;e.status=n}}}),m=p.reducer,x=p.actions,k=Object(o.a)({reducer:m,preloadedState:function(){var e={remaining:f(j),passed:f(b),failed:f(g)},t=e.remaining,n=e.passed,c=e.failed;return t||n||c?Object(i.a)(Object(i.a)({},h),{},{remaining:t?l(t):h.remaining,passed:n?l(n):h.passed,failed:c?l(c):h.failed}):Object(i.a)(Object(i.a)({},h),{},{remaining:l(u)})}()}),v=function(){return Object(a.b)()},y=function(e){return e.subject},w=function(e){return e.remaining},S=function(e){return e.passed},E=function(e){return e.failed},L=function(e){return e[e.subject][0]},R=function(e){return e.audioSource},C=function(e){return e.isRecording},F=function(e){return e.duration},T=function(e){return e.status},M=function(e){return"ready"===e.status},I=n(7),P=n(44),z=n(2),D=n(9),J=n(3),N=Object(z.createContext)({}),U=function(e){var t=e.children,n=e.recorder,c=v(),r=Object(z.useRef)(0),s=function(){"inactive"!==n.state&&(n.stop(),c(x.stop((performance.now()-r.current)/1e3)))},a=function(){"recording"!==n.state&&(n.start(),r.current=performance.now(),c(x.start()))},i=function(e){switch(n.state){case"recording":return void("stop"===e&&s());case"paused":return void function(e){"stop"===e&&s()}(e);default:return void function(e){"start"===e&&a()}(e)}};Object(z.useEffect)((function(){n.ondataavailable=function(e){var t=e.data,n=URL.createObjectURL(new Blob([t],{type:"audio/mpeg"}));c(x.save(n))}}),[n,c]);var o={start:function(){i("start")},stop:function(){i("stop")}};return Object(J.jsx)(N.Provider,{value:o,children:t})},X=function(e){var t=Object(z.useRef)(void 0);return Object(a.c)((function(n){t.current=e(n)})),t},B="ontouchstart"in window||navigator.maxTouchPoints,W=[],Y=function(e){return W.push(e),function(){return function(e){var t=W.indexOf(e);W.splice(t,1)}(e)}},A=function(e){W.length||e()},q=function(e){W.forEach((function(t){return t.current(e)}))},G=n(56),H=0,K=!1,Q=Object(G.throttle)((function(e){var t,n=e.deltaY,c=e.deltaX,r=Math.abs(c),s=Math.abs(n),a=r>=s?r:s;if(H<a)t=!0;else{if(!(H>a))return;t=!1}!1===K&&!0===t&&q(r>=s?c>=0?"left":"right":n>=0?"up":"down");K=t,H=a}),333,{leading:!0}),V=0,Z=0,$=0,_=!0,ee=!1,te=function(e,t){var n=c-e,s=r-t;$?1===$?(V=n,Z=s):(V=(V*$+n)/($+1),Z=(Z*$+s)/($+1)):(V=0,Z=0),c=e,r=t,++$},ne=function(e){$=0,_=!1,ee=!1;var t=e.changedTouches[0],n=t.screenX,c=t.screenY;te(n,c),setTimeout((function(){if(!_){var e=Math.abs(V),t=Math.abs(Z);(t>=e?t:e)<5&&(q("pressed"),_=!0,ee=!0)}}),200)},ce=function(e){if(!_){var t=e.changedTouches[0],n=t.screenX,c=t.screenY;te(n,c)}},re=function(e){if(!_){var t=e.changedTouches[0],n=t.screenX,c=t.screenY;te(n,c);var r=Math.abs(V),s=Math.abs(Z);if((s>=r?s:r)>=5)q(s>=r?Z>0?"up":"down":V>0?"left":"right")}ee&&q("released"),_=!0},se=function(e){var t=Object(z.useRef)(e);Object(z.useEffect)((function(){t.current=e}),[e]),Object(z.useEffect)((function(){A((function(){document.addEventListener("wheel",Q),B&&(document.addEventListener("touchstart",ne),document.addEventListener("touchmove",ce),document.addEventListener("touchend",re))}));var e=Y(t);return function(){e(),A((function(){document.removeEventListener("wheel",Q),B&&(document.removeEventListener("touchstart",ne),document.removeEventListener("touchmove",ce),document.removeEventListener("touchend",re))}))}}),[])},ae=function(){var e=Object(z.useContext)(N),t=e.start,n=e.stop,c=X(M),r=Object(z.useCallback)((function(e){if(c.current)switch(e){case"pressed":return void t();case"released":return void n()}}),[c,t,n]);se(r),Object(z.useEffect)((function(){var e=function(e){c.current&&" "===e.key&&(e.preventDefault(),t())},r=function(e){c.current&&" "===e.key&&(e.preventDefault(),n())};return document.addEventListener("keydown",e),document.addEventListener("keyup",r),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",r)}}),[c,t,n])},ie=n(21),oe=D.a.div({display:"flex",justifyContent:"center",alignItems:"flex-end",height:"120px",marginBottom:"7px"}),de=Object(D.a)(ie.animated.span)({backgroundClip:"text",WebkitTextStroke:"1px black",WebkitTextFillColor:"transparent",backgroundImage:"linear-gradient(to right, black 50%, white 50%)",backgroundSize:"200%"}),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=(100-e).toFixed(0)+"%";return{backgroundPosition:t}},le=function(e){var t=e.percent,n=Object(a.c)(L),c=Object(ie.useSpring)((function(){return ue()})),r=Object(I.a)(c,2),s=r[0],o=r[1];Number.isFinite(t)?o.start(ue(t)):o.start(ue());var d=n.length>7?"3em":"4em";return Object(J.jsx)(oe,{children:Object(J.jsx)(de,{style:Object(i.a)(Object(i.a)({},s),{},{fontSize:d}),children:n})})},je=Object(z.forwardRef)((function(e,t){var n=Object(a.c)(R),c=Object(z.useState)(100),r=Object(I.a)(c,2),s=r[0],i=r[1],o=X(F),d=Object(z.useCallback)((function(){var e=function(e){return!!e.current}(t)&&t.current;if(e)if(0!==e.readyState){var n=e.currentTime,c=e.duration,r=Number.isFinite(c)?c:o.current;i(n/r*100)}else i(100)}),[t,o]),u=Object(z.useCallback)((function(){i(100)}),[]);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("audio",{ref:t,autoPlay:!0,src:n,onTimeUpdate:d,onEnded:u}),Object(J.jsx)(le,{percent:s})]})})),be=function(){var e=v();return Object(a.c)((function(e){return!L(e)}))&&e(x.changeStatus("completed")),Object(J.jsx)(J.Fragment,{})},ge=function(){var e=Object(a.c)(w),t=Object(a.c)(S),n=Object(a.c)(E);return Object(z.useEffect)((function(){!function(e){var t=e.remaining,n=e.passed,c=e.failed;t&&localStorage.setItem(j,JSON.stringify(t)),n&&localStorage.setItem(b,JSON.stringify(n)),c&&localStorage.setItem(g,JSON.stringify(c))}({remaining:e,passed:t,failed:n})}),[e,t,n]),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(be,{})})},fe=n(57),he=D.a.div({position:"absolute",top:"7px",right:"14px"}),Oe=Object(D.a)(fe.a)({height:"3em",width:"auto"}),pe=function(){var e=Object(a.c)(C),t=Object(ie.useSpring)({reset:e,cancel:!e,loop:!0,from:{x:0},x:e?1:0,config:{duration:1e3}}).x;return Object(J.jsx)(he,{children:Object(J.jsx)(ie.animated.div,{style:{transform:t.to({range:[0,.25,.35,.45,.55,.65,.75,1],output:[1,.97,.9,1.1,.9,1.1,1.03,1]}).to((function(e){return"scale(".concat(e,")")}))},children:Object(J.jsx)(Oe,{style:{color:e?"IndianRed":"#fdfdfd"}})})})},me=n(16),xe=n(37),ke=n(58),ve=["children"],ye=D.a.ul({listStyleType:"none"}),we=Object(D.a)(ie.animated.li)({}),Se=D.a.span({verticalAlign:"middle"}),Ee=function(e){var t=e.children,n=Object(P.a)(e,ve),c=Object(ie.useSpring)(n.style);return Object(J.jsx)(we,{style:c,children:t})},Le=function(e){var t=e.children,n=e.style,c=1===z.Children.count(t)?z.Children.toArray(t)[0].props.children:t,r=z.Children.map(c,(function(e,t){return 0===t?Object(J.jsx)(Se,{children:e}):Object(J.jsx)(J.Fragment,{children:e})}));return n?Object(J.jsx)(Ee,{style:n,children:r}):Object(J.jsx)(we,{children:r})},Re=D.a.span({fontWeight:"bold"}),Ce=D.a.div({marginTop:"3px"}),Fe=D.a.div({marginTop:"1em"}),Te=function(e){return e?{style:{color:"black"}}:{style:{color:"#f4f4f4"},"aria-hidden":!0}},Me=B?function(e){var t=e.isRecording;return Object(J.jsx)(Le,{children:t?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(me.e,{})," let go to stop"]}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(me.e,{})," ",Object(J.jsx)(Re,{children:"long press"})," to record"]})})}:function(e){var t=e.isRecording;return Object(J.jsx)(Le,{children:t?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(me.d,{})," let go of ",Object(J.jsx)(Re,{children:"space"})," to stop"]}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(me.d,{})," hold ",Object(J.jsx)(Re,{children:"space"})," to record"]})})},Ie=function(e){var t=e.audioRef,n=!!Object(a.c)(R),c=Object(a.c)(C),r=v();se((function(e){n&&function(e){switch(e){case"up":var n=t.current;return void(n&&(n.paused?n.play():n.currentTime=0));case"left":return void r(x.fail());case"right":r(x.pass())}}(e)}));var s=Te(n);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Me,{isRecording:c}),Object(J.jsx)(Ce,{}),Object(J.jsxs)(Le,Object(i.a)(Object(i.a)({},s),{},{children:[Object(J.jsx)(me.a,{})," ",Object(J.jsx)(Re,{children:"swipe right"})," to pass"]})),Object(J.jsxs)(Le,Object(i.a)(Object(i.a)({},s),{},{children:[Object(J.jsx)(me.b,{})," ",Object(J.jsx)(Re,{children:"swipe left"})," to fail"]})),Object(J.jsx)(Ce,{}),Object(J.jsxs)(Le,Object(i.a)(Object(i.a)({},s),{},{children:[Object(J.jsx)(xe.b,{})," ",Object(J.jsx)(Re,{children:"swipe up"})," to replay recording"]}))]})},Pe=function(){var e=Object(a.c)(S).length,t=Object(a.c)(E).length,n=v();return se((function(c){switch(c){case"left":return void(t&&n(x.doFailedList()));case"right":return void(e&&n(x.doPassedList()));case"up":return void n(x.resetLists())}})),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(Le,{children:[Object(J.jsx)(ke.a,{style:{backgroundColor:"yellow",borderRadius:"1px"}})," ",Object(J.jsx)(Re,{children:"finished!"})]}),Object(J.jsx)(Fe,{}),Object(J.jsxs)(Le,Object(i.a)(Object(i.a)({},Te(t)),{},{children:[Object(J.jsx)(me.b,{})," ",Object(J.jsx)(Re,{children:"swipe left"})," to retry ",t," failed words"]})),Object(J.jsx)(Ce,{}),Object(J.jsxs)(Le,{children:[Object(J.jsx)(me.f,{})," ",Object(J.jsx)(Re,{children:"swipe up"})," to restart"]}),Object(J.jsx)(Ce,{}),Object(J.jsxs)(Le,Object(i.a)(Object(i.a)({},Te(e)),{},{children:[Object(J.jsx)(me.a,{})," ",Object(J.jsx)(Re,{children:"swipe right"})," to retry ",e," passed words"]}))]})},ze=function(){var e=Object(a.c)(S).length,t=Object(a.c)(E).length,n=Object(a.c)(w).length,c=Object(a.c)(y),r=v(),s=t&&"failed"!==c,o=e&&"passed"!==c,d=n&&"remaining"!==c,u=!(!e&&!t);return se((function(e){switch(e){case"left":return void(s&&r(x.doFailedList()));case"right":return void(o&&r(x.doPassedList()));case"up":return void(u&&r(x.resetLists()));case"down":return void(d&&r(x.doRemainingList()))}})),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(Le,{children:[Object(J.jsx)(xe.a,{style:{color:"#EE851C",borderRadius:"1px"}})," ",Object(J.jsx)(Re,{children:"settings"})]}),Object(J.jsx)(Fe,{}),Object(J.jsxs)(Le,Object(i.a)(Object(i.a)({},Te(s)),{},{children:[Object(J.jsx)(me.b,{})," ",Object(J.jsx)(Re,{children:"swipe left"})," to retry ",t," failed words"]})),Object(J.jsx)(Ce,{}),Object(J.jsxs)(Le,Object(i.a)(Object(i.a)({},Te(u)),{},{children:[Object(J.jsx)(me.f,{})," ",Object(J.jsx)(Re,{children:"swipe up"})," to restart"]})),Object(J.jsx)(Ce,{}),Object(J.jsxs)(Le,Object(i.a)(Object(i.a)({},Te(o)),{},{children:[Object(J.jsx)(me.a,{})," ",Object(J.jsx)(Re,{children:"swipe right"})," to retry ",e," passed words"]})),Object(J.jsx)(Ce,{}),Object(J.jsxs)(Le,Object(i.a)(Object(i.a)({},Te(d)),{},{children:[Object(J.jsx)(me.c,{})," ",Object(J.jsx)(Re,{children:"swipe down"})," to return to main list,"," ",n," words"]}))]})},De=function(e){var t;switch(Object(a.c)(T)){case"ready":t=Object(J.jsx)(Ie,Object(i.a)({},e));break;case"completed":t=Object(J.jsx)(Pe,{});break;case"settings":t=Object(J.jsx)(ze,{})}return Object(J.jsx)(ye,{"aria-label":"app controls",children:t})},Je=D.a.div({display:"flex",justifyContent:"center"}),Ne={display:"flex",fontWeight:"bold",width:"50%"},Ue=D.a.span(Ne,{justifyContent:"flex-end",color:"red"}),Xe=D.a.span(Ne,{display:"flex",color:"green"}),Be=D.a.span({margin:"0 5px",backgroundColor:"gray",width:"2px"}),We=function(){var e=Object(a.c)(S),t=Object(a.c)(E),n=Object(a.c)(y),c={textDecoration:"underline"},r="failed"===n?c:void 0,s="passed"===n?c:void 0;return Object(J.jsxs)(Je,{children:[Object(J.jsx)(Ue,{"aria-label":"fail count",style:r,children:t.length}),Object(J.jsx)(Be,{}),Object(J.jsx)(Xe,{"aria-label":"pass count",style:s,children:e.length})]})},Ye=n(84),Ae=D.a.div({position:"absolute",top:"3px",left:"3px"}),qe=Object(ie.animated)(xe.a),Ge=Object(ie.animated)(me.b),He=function(e){return e?"none":"inline-flex"},Ke=function(){var e=v(),t=Object(a.c)(T),n="settings"===t,c=Object(z.useRef)(t);Object(z.useEffect)((function(){"settings"!==t&&(c.current=t)}),[t]);var r=Object(ie.useSpring)({display:He(n),opacity:n?0:1,transform:"perspective(600px) rotateX(".concat(n?180:0,"deg)"),config:{mass:5,tension:500,friction:80}}),s=r.transform,i=r.display,o=r.opacity;return Object(J.jsx)(Ae,{children:Object(J.jsxs)(Ye.a,{onClick:function(){e(x.changeStatus(n?c.current:"settings"))},children:[Object(J.jsx)(qe,{style:{opacity:o,display:i,transform:s}}),Object(J.jsx)(Ge,{style:{display:i.to((function(){return He(!n)})),opacity:o.to((function(e){return 1-e})),transform:s}})]})})},Qe=D.a.div({display:"flex",flexDirection:"column",position:"relative"}),Ve=function(){Object(z.useEffect)((function(){document.body.style.overscrollBehavior="none",document.body.style.overflow="hidden",B&&(document.body.style.webkitUserSelect="none")}),[]),ae();var e=Object(z.createRef)();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(Qe,{children:[Object(J.jsx)(Ke,{}),Object(J.jsx)(pe,{}),Object(J.jsx)(je,{ref:e}),Object(J.jsx)(We,{}),Object(J.jsx)(De,{audioRef:e})]}),Object(J.jsx)(ge,{})]})},Ze=["children"],$e=D.a.div({margin:"0 auto",backgroundColor:"white",width:"390px",height:"100vh"}),_e=D.a.div({margin:"1em"}),et=function(e){var t=e.children,n=Object(P.a)(e,Ze);return Object(J.jsx)("span",Object(i.a)(Object(i.a)({},n),{},{role:"img",children:t}))},tt=function(){var e=v(),t=Object(z.useState)(),n=Object(I.a)(t,2),c=n[0],r=n[1],s=Object(z.useState)("loading"),a=Object(I.a)(s,2),i=a[0],o=a[1];switch(Object(z.useEffect)((function(){try{navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){var t=new MediaRecorder(e);r(t),o("ready")})).catch((function(e){console.error(e),o("declined")}))}catch(e){o("unsupported")}}),[e]),i){case"loading":return Object(J.jsx)(J.Fragment,{});case"ready":return Object(J.jsx)(U,{recorder:c,children:Object(J.jsx)(Ve,{})});case"declined":return Object(J.jsxs)(_e,{children:["Oi ",Object(J.jsx)(et,{"aria-hidden":!0,children:"\ud83e\udd0c"})," why would you be here and not allow mic"]});default:return Object(J.jsxs)(_e,{children:[Object(J.jsx)(et,{"aria-label":"shrugs",children:"\ud83e\udd37"})," are you on Chrome? Cuz it only works on Chrome, sorta..."]})}},nt=function(){return Object(J.jsx)($e,{children:Object(J.jsx)(tt,{})})},ct=document.getElementById("root");Object(s.render)(Object(J.jsx)(a.a,{store:k,children:Object(J.jsx)(nt,{})}),ct)}},[[73,1,2]]]);
//# sourceMappingURL=main.f4f5ce82.chunk.js.map